{% extends "layout.html" %}


{% block title %}
 student Dashboard 
{% endblock %}
{% load static %}
{% block content %}



    <!-- Favicon -->
    <link href={% static "img/favicon.ico" %} rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href={%static  "lib/animate/animate.min.css" %} rel="stylesheet">
    <link href={%static "lib/owlcarousel/assets/owl.carousel.min.css" %}  rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href={%static "css/bootstrap.min.css" %} rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href={%static "css/style.css" %} rel="stylesheet">
    <link href={%static "css/animate.css" %} rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
    body{
        background: #9053c7;
    background: -webkit-linear-gradient(-135deg, #c850c0, #4158d0);
    background: -o-linear-gradient(-135deg, #c850c0, #4158d0);
    background: -moz-linear-gradient(-135deg, #c850c0, #4158d0);
    background: linear-gradient(-135deg, #c850c0, #4158d0);
    }
    .level-modal {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0,0.4);
    }

    .level-modal-content {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    text-align: center;
    }

    .btn-modal {
    background-color: #4CAF50; /* Green */
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    }

    .btn-modal:hover {
    background-color: #45a049;
    }
</style>
<div style="margin-top:100px;">
    <br/>
    <h1 style="display:flex;justify-content: center; align-items: center; color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">  Welcome {{student.first_name}}!</h1>
    <br/>
    <section id="banner_parallax" class="slide_banner1">
        <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="full">
                    <div class="slide_cont">
                    <h2>CodeForU - a platform for learning code programming using AI</h2>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="slide_pc_img wow fadeInRight" data-wow-delay="0.5s" data-wow-duration="1s"> 

                </div>
            </div>
        </div>
        </div>
    </section>
        <!-- Carousel End -->
</div>

    <!-- Service Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
                    <div class="service-item text-center pt-3">
                        <div class="p-4">
                            <i class="fa fa-3x fa-graduation-cap text-primary mb-4"></i>
                            <h5 class="mb-3">Skilled Instructors</h5>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                    <div class="service-item text-center pt-3">
                        <div class="p-4">
                            <i class="fa fa-3x fa-globe text-primary mb-4"></i>
                            <h5 class="mb-3">Online Classes</h5>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.5s">
                    <div class="service-item text-center pt-3">
                        <div class="p-4">
                            <i class="fa fa-3x fa-home text-primary mb-4"></i>
                            <h5 class="mb-3">Home Projects</h5>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.7s">
                    <div class="service-item text-center pt-3">
                        <div class="p-4">
                            <i class="fa fa-3x fa-book-open text-primary mb-4"></i>
                            <h5 class="mb-3">Book Library</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Service End -->


    <!-- About Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="row g-5">
                <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.1s" style="min-height: 400px;">
                    <div class="position-relative h-100">
                        <img class="img-fluid position-absolute w-100 h-100" src={% static  "img/image.png" %} alt="" style="object-fit: cover;">
                    </div>
                </div>
                <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.3s">
                    <h4 class="mb-4" style="color: white;">About Us</h1>
                    <h1 class="mb-4" style="color: white;">Welcome to CodeForU</h1>
                    <p class="mb-4" style="color: white;">CodeForU platform is an open and free code learning environment that allows programmers to learn to write code in the various programming languages ​​in an efficient and high-quality manner and in a progressive manner by using the AI ​​platform that classifies the user's level and provides questions and a comprehensive learning set according to the programmer's level.</p>
                    <div class="row gy-2 gx-4 mb-4">
                        <div class="col-sm-6">
                            <p class="mb-0" style="color: white;"><i class="fa fa-arrow-right text-primary me-2"></i>Personal mentor</p>
                        </div>
                        <div class="col-sm-6" >
                            <p class="mb-0" style="color: white;"><i class="fa fa-arrow-right text-primary me-2"></i>Questions by user level</p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0" style="color: white;"><i class="fa fa-arrow-right text-primary me-2"></i>Quick response</p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0" style="color: white;"><i class="fa fa-arrow-right text-primary me-2"></i>Using AI</p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0" style="color: white;"><i class="fa fa-arrow-right text-primary me-2"></i>completely free</p>
                        </div>
                        <div class="col-sm-6">
                            <p class="mb-0" style="color: white;"><i class="fa fa-arrow-right text-primary me-2"></i>Learning anywhere and anytime</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About End -->


    
    <!-- Categories Start -->
</br>
</br>
    <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
        <h6 class="section-title bg-white text-center text-primary px-3"></h6>
        <h1 class="mb-5" style="color: white;">A Few Facts About Our Platform</h1>
    </div>
    <!-- Courses Start -->
    <section class="our-facts">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="row">
                <div class="col-lg-6">
                  <div class="row">
                    <div class="col-12">
                      <div class="count-area-content percentage">
                        <div class="count-digit">100</div>
                        <div class="count-title">Succesed Students</div>
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="count-area-content">
                        <div class="count-digit">126</div>
                        <div class="count-title">Current Mentors</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="row">
                    <div class="col-12">
                      <div class="count-area-content new-students">
                        <div class="count-digit">2345</div>
                        <div class="count-title">New Students</div>
                      </div>
                    </div> 
                    <div class="col-12">
                      <div class="count-area-content">
                        <div class="count-digit">32</div>
                        <div class="count-title">Awards</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div> 
        
          </div>
        </div>
      </section>
    <!-- Courses End -->


    <!-- Team Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
                <h6 class="section-title bg-white text-center text-primary px-3"></h6>
                <h1 class="mb-5" style="color: white;">Our Mentors</h1>
            </div>
            <div class="row g-4">
                <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                    <div class="team-item bg-light">
                        <div class="overflow-hidden">
                            <img class="img-fluid" src={% static "img/team-1.jpg" %} alt="">
                        </div>
                      
                        <div class="text-center p-4">
                            <h5 class="mb-0">Shay Moshe</h5>
                            <small>Mentor</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
                    <div class="team-item bg-light">
                        <div class="overflow-hidden">
                            <img class="img-fluid" src={% static "img/team-2.jpg" %} alt="">
                        </div>
                      
                        <div class="text-center p-4">
                            <h5 class="mb-0">Amit Golan</h5>
                            <small>Mentor</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.5s">
                    <div class="team-item bg-light">
                        <div class="overflow-hidden">
                            <img class="img-fluid" src={% static "img/team-3.jpg" %} alt="">
                        </div>
                        
                        <div class="text-center p-4">
                            <h5 class="mb-0">Lior Azulay</h5>
                            <small>Mentor</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.7s">
                    <div class="team-item bg-light">
                        <div class="overflow-hidden">
                            <img class="img-fluid" src={% static "img/team-4.jpg" %} alt="">
                        </div>
                      
                        <div class="text-center p-4">
                            <h5 class="mb-0">Dana Cohen</h5>
                            <small>Mentor</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Team End -->


    <!-- Testimonial Start -->
    <div class="container-xxl py-5 wow fadeInUp" >
        <div class="container">
            <div class="text-center">
                <h6 class="section-title bg-white text-center text-primary px-3"></h6>
                <h1 class="mb-5" style="color: white;">Our Students Say!</h1>
            </div>
            <div class="owl-carousel testimonial-carousel position-relative">
                <div class="testimonial-item text-center">
                    <img class="border rounded-circle p-2 mx-auto mb-3" src={% static "img/testimonial-1.jpg" %} style="width: 80px; height: 80px;">
                    <h5 class="mb-0">May Cohen</h5>
                    <p>Computer Science Student</p>
                    <div class="testimonial-text bg-light text-center p-4">
                        <p class="mb-0">“Your platform is one of the best tools I have learned from so far. The combination of AI and mentors creates an interactive and inspiring learning experience. The mentors were professional and supportive, and the automated tools you provided helped me understand and improve quickly. Thank you for the support!”</p>
                    </div>
                </div>
                <div class="testimonial-item text-center">
                    <img class="border rounded-circle p-2 mx-auto mb-3" src={% static "img/testimonial-2.jpg" %} style="width: 80px; height: 80px;">
                    <h5 class="mb-0">Or Levy</h5>
                    <p>Software Engineering Student</p>
                    <div class="testimonial-text bg-light text-center p-4">
                        <p class="mb-0">“Your system offers a high-level learning experience with excellent flexibility. The AI-based platform helped me quickly overcome coding issues, and the support from mentors was always available and helpful. I felt that whenever I faced a problem, I had someone to assist me. Kudos for the excellent work!”</p>
                    </div>
                </div>
                <div class="testimonial-item text-center">
                    <img class="border rounded-circle p-2 mx-auto mb-3" src={% static "img/testimonial-3.jpg" %} style="width: 80px; height: 80px;">
                    <h5 class="mb-0">Daniel Ramon</h5>
                    <p> Information Systems Student</p>
                    <div class="testimonial-text bg-light text-center p-4">
                    <p class="mb-0">“Your service provides an amazing learning experience. The integration of AI with personal mentor support is a great solution that yields excellent results. I find it easier to understand complex concepts and tackle new challenges. Thanks for the investment and quality!”</p>
                    </div>
                </div>
                <div class="testimonial-item text-center">
                    <img class="border rounded-circle p-2 mx-auto mb-3" src={% static "img/testimonial-4.jpg" %} style="width: 80px; height: 80px;">
                    <h5 class="mb-0">Rotem Gal</h5>
                    <p>Software Engineering Student</p>
                    <div class="testimonial-text bg-light text-center p-4">
                        <p class="mb-0">“I couldn’t ask for more! The platform offers a wide range of learning tools tailored to my needs. The support from mentors exceeded my expectations and helped me grasp topics that are usually difficult for me to learn on my own. The AI helps me develop coding skills much faster. I highly recommend the platform!”</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Testimonial End -->
        

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-light footer pt-5 mt-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-4 col-md-6">
                    <h4 class="text-white mb-3">Contact Us!</h4>
                    <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>Sami Shamoon, Beer Sheva, ISRAEL</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+012 345 67890</p>
                    <p class="mb-2"><i class="fa fa-envelope me-3"></i>CodeForU@gmail.com</p>
                </div>
                <div class="col-lg-4 col-md-6">
                    <h4 class="text-white mb-3">Rate Us!</h4>
                    <form method="post" action="{% url 'users:student_feedback' %}">
                        {% csrf_token %}
                        <div class="star-rating">
                            <input type="radio" id="star5" name="rating" value="5" {% if student.rating == 5 %}checked{% endif %} />
                            <label for="star5" title="5 stars"></label>
                            <input type="radio" id="star4" name="rating" value="4" {% if student.rating == 4 %}checked{% endif %} />
                            <label for="star4" title="4 stars"></label>
                            <input type="radio" id="star3" name="rating" value="3" {% if student.rating == 3 %}checked{% endif %} />
                            <label for="star3" title="3 stars"></label>
                            <input type="radio" id="star2" name="rating" value="2" {% if student.rating == 2 %}checked{% endif %} />
                            <label for="star2" title="2 stars"></label>
                            <input type="radio" id="star1" name="rating" value="1" {% if student.rating == 1 %}checked{% endif %} />
                            <label for="star1" title="1 star"></label>
                        </div>
                        <div class="upload-container">
                            <button type="submit" class="upload-button">Submit</button>
                        </div>
                    </form>
                </div>
                <div class="col-lg-4 col-md-6">
                    <h4 class="text-white mb-3">Rate Your Mentor!</h4>
                    <form method="post" action="{% url 'users:student_feedback' %}">
                        {% csrf_token %}
                        <div class="star-rating-mentor">
                            <input type="radio" id="mentor_star5" name="mentor_rating" value="5" {% if student.mentor_rating == 5 %}checked{% endif %} />
                            <label for="mentor_star5" title="5 stars"></label>
                            <input type="radio" id="mentor_star4" name="mentor_rating" value="4" {% if student.mentor_rating == 4 %}checked{% endif %} />
                            <label for="mentor_star4" title="4 stars"></label>
                            <input type="radio" id="mentor_star3" name="mentor_rating" value="3" {% if student.mentor_rating == 3 %}checked{% endif %} />
                            <label for="mentor_star3" title="3 stars"></label>
                            <input type="radio" id="mentor_star2" name="mentor_rating" value="2" {% if student.mentor_rating == 2 %}checked{% endif %} />
                            <label for="mentor_star2" title="2 stars"></label>
                            <input type="radio" id="mentor_star1" name="mentor_rating" value="1" {% if student.mentor_rating == 1 %}checked{% endif %} />
                            <label for="mentor_star1" title="1 star"></label>
                        </div>
                        <div class="upload-container">
                            <button type="submit" class="upload-button">Submit</button>
                        </div>
                    </form>
        </div>
                
            </div>
        </div>
      
    </div>
    <!-- Footer End -->
<!-- Modal Structure -->
<div id="levelUpdatedModal" class="level-modal">
  <div class="level-modal-content">
    <h4>Level Updated!</h4>
    <p>Your level has been updated successfully.</p>
    <p>New Level : {{student.level}}</p>
    <button id="okButton" class="btn-modal">OK</button>
  </div>
</div>

<!-- Include Confetti.js -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    {% if student.level_updated %}
    <script>
        {% comment %} document.addEventListener('DOMContentLoaded', function () {
            setTimeout(function () {
                var congratsMessage = "Congrats! Now you are level {{ student.level }}";
                if (confirm(congratsMessage)) {
                    $.ajax({
                        type: "POST",
                        url: "{% url 'users:reset_level_updated' %}",
                        data: {
                            csrfmiddlewaretoken: '{{ csrf_token }}',
                        },
                        success: function (response) {
                            if (response.status === 'success') {
                                console.log('Level updated reset.');
                            }
                        },
                        error: function (response) {
                            console.log('Failed to reset level updated.');
                        }
                    });
                }
            }, 1000);  // 2000 milliseconds = 2 seconds
        }); {% endcomment %}

        function showLevelUpdatedModal() {
        var modal = document.getElementById('levelUpdatedModal');
        var okButton = document.getElementById('okButton');

        modal.style.display = 'block';

        // Add confetti effect
        confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
        });

        // Handle OK button click
        okButton.onclick = function() {
            // Hide modal
            modal.style.display = 'none';

            // Trigger POST request
            fetch("{% url 'users:reset_level_updated' %}", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "X-CSRFToken": "{{ csrf_token }}"
            }
            }).then(response => {
            if (response.ok) {
                console.log('Level updated reset successfully.');
            } else {
                console.error('Failed to reset level updated.');
            }
            });
        };

        // Close modal if clicked outside
        window.onclick = function(event) {
            if (event.target === modal) {
            modal.style.display = 'none';
            }
        };
        }

        // Call this function when the student level is updated
        window.onload = function() {
        {% if student.level_updated %}
            showLevelUpdatedModal();
        {% endif %}
        };
    </script>
    {% endif %}

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src={% static  "lib/wow/wow.min.js" %} ></script>
    <script src={% static "lib/easing/easing.min.js" %}></script>
    <script src={% static "lib/waypoints/waypoints.min.js" %}></script>
    <script src={% static "lib/owlcarousel/owl.carousel.min.js" %}></script>

    <!-- Template Javascript -->
    <script src={% static "js/main.js" %}></script>
    <script>
        $(window).scroll(function() {
        if (visible($('.count-digit'))) {
            if ($('.count-digit').hasClass('counter-loaded')) return;
            $('.count-digit').addClass('counter-loaded');

            $('.count-digit').each(function() {
                var $this = $(this);
                $({ Counter: 0 }).animate({ Counter: $this.text() }, {
                    duration: 3000,
                    easing: 'swing',
                    step: function() {
                        $this.text(Math.ceil(this.Counter));
                    }
                });
            });
        }
    });

    function visible(element) {
        var $element = $(element);
        var $window = $(window);

        var viewTop = $window.scrollTop();
        var viewBottom = viewTop + $window.height();
        var elemTop = $element.offset().top;
        var elemBottom = elemTop + $element.height();

        return ((elemBottom <= viewBottom) && (elemTop >= viewTop));
    }


/* 
    function uploadData() {
    // כאן תוכל להוסיף את הקוד שלך להעלאת הנתונים לבסיס
    alert('Data has been uploaded successfully!');
} */
    </script>

    


</body>
{% endblock %}
